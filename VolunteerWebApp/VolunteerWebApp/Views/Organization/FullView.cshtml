@model VolunteerWebApp.Models.OpportunityIndexViewModel
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Full Opportunity Summary</h2>


<p>Event name: @Model.Opportunity.Title</p>


@if (Request.IsAuthenticated && User.IsInRole("organization"))
{

@Html.ActionLink("Delete", "Delete",
        new { id = Model.Opportunity.ID },
        new { onclick = "return confirm('Are you sure you want to delete this opportunity?');" })   

@Html.ActionLink("Edit", "EditOpp", new { id = Model.Opportunity.ID })



}


@if (Request.IsAuthenticated && User.IsInRole("volunteer"))
{
    <p>Set an iterest level for this opportunity</p>
    using (Html.BeginForm("CreateInterest", "Opportunity", FormMethod.Post, new { @class = "form-horizontal", role = "form", model = Model}))
    {

        <form>
            @Model.oppId = Model.Opportunity.ID;

            <div>
                @Html.LabelFor(m => m.InterestSet, "1")
                @Html.RadioButtonFor(m => m.InterestSet, "1")
            </div>
            <div>
                @Html.LabelFor(m => m.InterestSet, "2")
                @Html.RadioButtonFor(m => m.InterestSet, "2")
            </div>
            <div>
                @Html.LabelFor(m => m.InterestSet, "3")
                @Html.RadioButtonFor(m => m.InterestSet, "3")
            </div>
            <div>
                @Html.LabelFor(m => m.InterestSet, "4")
                @Html.RadioButtonFor(m => m.InterestSet, "4")
            </div>
            <div>
                @Html.LabelFor(m => m.InterestSet, "5")
                @Html.RadioButtonFor(m => m.InterestSet, "5")
            </div>
            <button type="submit">Submit Interest</button>
            @Html.HiddenFor(m => m.oppId );
        </form>
    }
}

<p>Interested Volunteers</p>

<table>
    <thead>
        <tr>
            <th>User Name</th>
            <th>Interest Level</th>
            <th>Category Skill level</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var user in Model.InterestedUsers)
        {
            <tr>
                <td> @user.VolunteerUserName</td>
                <td> @user.InterestLevel</td>
                <td> Insert applicible skill level</td>
            </tr>
        }
    </tbody>
</table>